/*+===================================================================

   Class:    SpaceObject

   Summary:  none

   Methods:  none

 ----------------------------------------------------------------------
   Copyright (C) 2014, Stephen Wunschel
 ===================================================================+*/

// standard header files

// project header files
#include "shared_functions.h"
#include "SpaceObject.h"

//3rd party header files

/*************************************************************************************************************************************
 * constructor
 *
 * VRM      Date      By    Description
 * ===   ==========   ===   ==========================================================================================================
 * 100   06/08/2014   SDW   initial coding
 *************************************************************************************************************************************/
SpaceObject::SpaceObject()
{

}

/*************************************************************************************************************************************
 * destructor
 *
 * VRM      Date      By    Description
 * ===   ==========   ===   ==========================================================================================================
 * 1xx   xx/xx/2014   SDW   initial coding
 *************************************************************************************************************************************/
SpaceObject::~SpaceObject()
{
	//dtor
}

/*************************************************************************************************************************************
 * getFacingG - retrieve unit vector pointing in direction of +x axis in global FOR
 *
 * VRM      Date      By    Description
 * ===   ==========   ===   ==========================================================================================================
 * 100   06/07/2014   SDW   initial coding
 *************************************************************************************************************************************/
vect3D SpaceObject::getFacingG(void)
{
	return Local2Global(getFacingL(), objectOrientationG);
}

/*************************************************************************************************************************************
 * getFacingL - retrieve unit vector pointing in direction of +x axis in local FOR
 *
 * VRM      Date      By    Description
 * ===   ==========   ===   ==========================================================================================================
 * 100   06/07/2014   SDW   initial coding
 *************************************************************************************************************************************/
vect3D SpaceObject::getFacingL(void)
{
	vect3D unitL(1,0,0);
	return unitL;
}

/*************************************************************************************************************************************
 * getHeadingG - retrieve unit vector pointing in direction of velocity in global FOR
 *
 * VRM      Date      By    Description
 * ===   ==========   ===   ==========================================================================================================
 * 100   06/07/2014   SDW   initial coding
 *************************************************************************************************************************************/
vect3D SpaceObject::getHeadingG(void)
{
	return NormalizeVector(objectVelocityG);
}

/*************************************************************************************************************************************
 * getHeadingL - retrieve unit vector pointing in direction of velocity in local FOR
 *
 * VRM      Date      By    Description
 * ===   ==========   ===   ==========================================================================================================
 * 100   06/07/2014   SDW   initial coding
 *************************************************************************************************************************************/
vect3D SpaceObject::getHeadingL(void)
{
	return Global2Local(getHeadingG(), objectOrientationG);
}

/*************************************************************************************************************************************
 * getOrientationG - retrieve object's orientation in global FOR
 *
 * VRM      Date      By    Description
 * ===   ==========   ===   ==========================================================================================================
 * 100   06/04/2014   SDW   initial coding
 *************************************************************************************************************************************/
quat3D SpaceObject::getOrientationG(void)
{
	return objectOrientationG;
}

/*************************************************************************************************************************************
 * getPositionG - retrieve object's position in global FOR
 *
 * VRM      Date      By    Description
 * ===   ==========   ===   ==========================================================================================================
 * 100   06/04/2014   SDW   initial coding
 *************************************************************************************************************************************/
vect3D SpaceObject::getPositionG(void)
{
	return objectPositionG;
}

/*************************************************************************************************************************************
 * getPositionL - retrieve object's position in local FOR via passed orientation
 *
 * VRM      Date      By    Description
 * ===   ==========   ===   ==========================================================================================================
 * 100   06/09/2014   SDW   initial coding
 *************************************************************************************************************************************/
vect3D SpaceObject::getPositionL(void)
{
	return Global2Local(objectPositionG, objectOrientationG);
}

/*************************************************************************************************************************************
 * getSpeed - retrieve object's speed (magnitude of velocity vector)
 *
 * VRM      Date      By    Description
 * ===   ==========   ===   ==========================================================================================================
 * 100   06/xx/2014   SDW   initial coding
 *************************************************************************************************************************************/
double SpaceObject::getSpeed(void)
{
	return VectorLength(getVelocityL());
}

/*************************************************************************************************************************************
 * getVelocityG - retrieve object's velocity in global FOR
 *
 * VRM      Date      By    Description
 * ===   ==========   ===   ==========================================================================================================
 * 100   06/04/2014   SDW   initial coding
 *************************************************************************************************************************************/
vect3D SpaceObject::getVelocityG(void)
{
	return objectVelocityG;
}

/*************************************************************************************************************************************
 * getVelocityL - retrieve object's velocity in local FOR
 *
 * VRM      Date      By    Description
 * ===   ==========   ===   ==========================================================================================================
 * 100   06/xx/2014   SDW   initial coding
 *************************************************************************************************************************************/
vect3D SpaceObject::getVelocityL(void)
{
	return Global2Local(objectVelocityG, objectOrientationG);
}

/*************************************************************************************************************************************
 * setOrientationG - set object's orientation in global FOR using Euler angles
 *
 * VRM      Date      By    Description
 * ===   ==========   ===   ==========================================================================================================
 * 100   06/05/2014   SDW   initial coding
 *************************************************************************************************************************************/
void SpaceObject::setOrientationG(double y, double p, double r)
{
	objectOrientationG = Euler2Quat(y, p, r);
}

/*************************************************************************************************************************************
 * setOrientationG - set object's orientation in global FOR
 *
 * VRM      Date      By    Description
 * ===   ==========   ===   ==========================================================================================================
 * 100   06/06/2014   SDW   normalize quat before returning
 * 100   06/04/2014   SDW   initial coding
 *************************************************************************************************************************************/
void SpaceObject::setOrientationG(quat3D n)
{
	objectOrientationG = n;
	objectOrientationG.normalize();
}

/*************************************************************************************************************************************
 * setPositionG - set object's position in global FOR using xyz coordinates
 *
 * VRM      Date      By    Description
 * ===   ==========   ===   ==========================================================================================================
 * 100   06/04/2014   SDW   initial coding
 *************************************************************************************************************************************/
void SpaceObject::setPositionG(double x, double y, double z)
{
	objectPositionG(x_coord) = x;
	objectPositionG(y_coord) = y;
	objectPositionG(z_coord) = z;
}

/*************************************************************************************************************************************
 * setPositionG - set object's position in global FOR
 *
 * VRM      Date      By    Description
 * ===   ==========   ===   ==========================================================================================================
 * 100   06/04/2014   SDW   initial coding
 *************************************************************************************************************************************/
void SpaceObject::setPositionG(vect3D n)
{
	objectPositionG = n;
}

/*************************************************************************************************************************************
 * setVelocityG - set object's velocity in global FOR
 *
 * VRM      Date      By    Description
 * ===   ==========   ===   ==========================================================================================================
 * 100   06/04/2014   SDW   initial coding
 *************************************************************************************************************************************/
void SpaceObject::setVelocityG(vect3D n)
{
	objectVelocityG = n;
}
